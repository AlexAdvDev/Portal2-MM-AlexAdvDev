//---------------------------------------------------
//         *****!Do not edit this file!*****
//---------------------------------------------------
//   ___         __                                 _  _ 
//  / __| __ _  / _| ___  __ _  _  _  __ _  _ _  __| |(_)
//  \__ \/ _` ||  _|/ -_)/ _` || || |/ _` || '_|/ _` | _ 
//  |___/\__,_||_|  \___|\__, | \_,_|\__,_||_|  \__,_|(_)
//                       |___/                           
//---------------------------------------------------
// Purpose: Set up a security measure against
//          abusive commands from clients
//---------------------------------------------------

/////////////////////// VScript COMMAND REPLACEMENTS

if (SafeGuard) {
    try {
        if ( ::SendToConsole.getinfos().native ) { // Replace SendToConsole with SendToConsoleP2MM
            ::SendToConsoleP2MM <- ::SendToConsole;;

            SendToConsole <- function(str) {
                printl("=======================================")
                printl("=======================================")
                printl("PATCHED COMMAND WAS ATTEMPTED TO BE RAN")
                printl("")
                printl("COMMAND: " + str)
                printl("")
                printl("this is probably game logic running in")
                printl("the background. But it could ba a")
                printl("player that is attempting to exploit")
                printl("the game. So we're going to stop it.")
                printl("")
                printl("(once again its probably just the game)")
                printl("=======================================")
                printl("=======================================")
            }
        }
    } catch (e) {}
} else {
    SendToConsoleP2MM <- function(str) { SendToConsole(str) }
}

////////////////////////////////////////////